   Compiling dongle-contract v0.1.0 (C:\Users\user\Dongle-Smartcontract\dongle-smartcontract)
warning: unused import: `crate::constants::MAX_CID_LEN`
 --> src\verification_registry.rs:3:5
  |
3 | use crate::constants::MAX_CID_LEN;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused imports: `publish_verification_approved_event`, `publish_verification_rejected_event`, and `publish_verification_requested_event`
 --> src\verification_registry.rs:6:5
  |
6 |     publish_verification_approved_event, publish_verification_rejected_event,
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
7 |     publish_verification_requested_event,
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::storage_keys::StorageKey`
  --> src\verification_registry.rs:10:5
   |
10 | use crate::storage_keys::StorageKey;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::constants::MAX_PROJECTS_PER_USER`
 --> src\test.rs:3:5
  |
3 | use crate::constants::MAX_PROJECTS_PER_USER;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::errors::ContractError as Error`
 --> src\test.rs:4:5
  |
4 | use crate::errors::ContractError as Error;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `FeeConfig` and `VerificationStatus`
 --> src\test.rs:5:20
  |
5 | use crate::types::{FeeConfig, VerificationStatus};
  |                    ^^^^^^^^^  ^^^^^^^^^^^^^^^^^^

warning: unused import: `Vec`
 --> src\test.rs:9:58
  |
9 | use soroban_sdk::{Address, Env, String as SorobanString, Vec};
  |                                                          ^^^

warning: variable does not need to be mutable
   --> src\review_registry.rs:126:13
    |
126 |         let mut user_reviews: soroban_sdk::Vec<u64> = env
    |             ----^^^^^^^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `env`
  --> src\verification_registry.rs:17:9
   |
17 |         env: &Env,
   |         ^^^ help: if this is intentional, prefix it with an underscore: `_env`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `project_id`
  --> src\verification_registry.rs:18:9
   |
18 |         project_id: u64,
   |         ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_project_id`

warning: unused variable: `requester`
  --> src\verification_registry.rs:19:9
   |
19 |         requester: Address,
   |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_requester`

warning: unused variable: `evidence_cid`
  --> src\verification_registry.rs:20:9
   |
20 |         evidence_cid: String,
   |         ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_evidence_cid`

warning: constant `MAX_PROJECTS_PER_USER` is never used
 --> src\constants.rs:4:11
  |
4 | pub const MAX_PROJECTS_PER_USER: u32 = 50;
  |           ^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: constant `MIN_STRING_LEN` is never used
 --> src\constants.rs:7:11
  |
7 | pub const MIN_STRING_LEN: usize = 1;
  |           ^^^^^^^^^^^^^^

warning: constant `MAX_NAME_LEN` is never used
  --> src\constants.rs:10:11
   |
10 | pub const MAX_NAME_LEN: usize = 128;
   |           ^^^^^^^^^^^^

warning: constant `MAX_DESCRIPTION_LEN` is never used
  --> src\constants.rs:13:11
   |
13 | pub const MAX_DESCRIPTION_LEN: usize = 2048;
   |           ^^^^^^^^^^^^^^^^^^^

warning: constant `MAX_CATEGORY_LEN` is never used
  --> src\constants.rs:16:11
   |
16 | pub const MAX_CATEGORY_LEN: usize = 64;
   |           ^^^^^^^^^^^^^^^^

warning: constant `MAX_WEBSITE_LEN` is never used
  --> src\constants.rs:19:11
   |
19 | pub const MAX_WEBSITE_LEN: usize = 256;
   |           ^^^^^^^^^^^^^^^

warning: constant `MAX_CID_LEN` is never used
  --> src\constants.rs:22:11
   |
22 | pub const MAX_CID_LEN: usize = 128;
   |           ^^^^^^^^^^^

warning: constant `RATING_MIN` is never used
  --> src\constants.rs:25:11
   |
25 | pub const RATING_MIN: u32 = 1;
   |           ^^^^^^^^^^

warning: constant `RATING_MAX` is never used
  --> src\constants.rs:26:11
   |
26 | pub const RATING_MAX: u32 = 5;
   |           ^^^^^^^^^^

warning: function `publish_fee_paid_event` is never used
  --> src\events.rs:31:8
   |
31 | pub fn publish_fee_paid_event(env: &Env, project_id: u64, amount: u128) {
   |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `publish_verification_requested_event` is never used
  --> src\events.rs:45:8
   |
45 | pub fn publish_verification_requested_event(env: &Env, project_id: u64, requester: Address) {
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `publish_verification_approved_event` is never used
  --> src\events.rs:52:8
   |
52 | pub fn publish_verification_approved_event(env: &Env, project_id: u64) {
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `publish_verification_rejected_event` is never used
  --> src\events.rs:59:8
   |
59 | pub fn publish_verification_rejected_event(env: &Env, project_id: u64) {
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: associated functions `add_rating` and `update_rating` are never used
  --> src\rating_calculator.rs:34:12
   |
 8 | impl RatingCalculator {
   | --------------------- associated functions in this implementation
...
34 |     pub fn add_rating(current_sum: u64, current_count: u32, new_rating: u32) -> (u64, u32, u32) {
   |            ^^^^^^^^^^
...
52 |     pub fn update_rating(
   |            ^^^^^^^^^^^^^

warning: associated function `get_reviews_by_user` is never used
   --> src\review_registry.rs:155:12
    |
 12 | impl ReviewRegistry {
    | ------------------- associated function in this implementation
...
155 |     pub fn get_reviews_by_user(
    |            ^^^^^^^^^^^^^^^^^^^

warning: struct `Utils` is never constructed
 --> src\utils.rs:5:12
  |
5 | pub struct Utils;
  |            ^^^^^

warning: multiple associated functions are never used
  --> src\utils.rs:8:12
   |
 7 | impl Utils {
   | ---------- associated functions in this implementation
 8 |     pub fn get_current_timestamp(_env: &Env) -> u64 {
   |            ^^^^^^^^^^^^^^^^^^^^^
...
12 |     pub fn is_admin(_env: &Env, _address: &Address) -> bool {
   |            ^^^^^^^^
...
16 |     pub fn add_admin(
   |            ^^^^^^^^^
...
24 |     pub fn remove_admin(
   |            ^^^^^^^^^^^^
...
32 |     pub fn validate_string_length(
   |            ^^^^^^^^^^^^^^^^^^^^^^
...
51 |     pub fn is_valid_ipfs_cid(cid: &String) -> bool {
   |            ^^^^^^^^^^^^^^^^^
...
56 |     pub fn is_valid_url(_url: &String) -> bool {
   |            ^^^^^^^^^^^^
...
60 |     pub fn get_storage_key(storage_key: StorageKey) -> StorageKey {
   |            ^^^^^^^^^^^^^^^
...
64 |     pub fn sanitize_string(input: &String) -> String {
   |            ^^^^^^^^^^^^^^^
...
68 |     pub fn is_valid_category(_category: &String) -> bool {
   |            ^^^^^^^^^^^^^^^^^
...
72 |     pub fn create_event_data(_event_type: &str, _data: &str) -> String {
   |            ^^^^^^^^^^^^^^^^^
...
76 |     pub fn validate_pagination(_start_id: u64, limit: u32) -> Result<(), ContractError> {
   |            ^^^^^^^^^^^^^^^^^^^

warning: associated functions `list_pending_verifications`, `verification_exists`, `get_verification_status`, `update_verification_evidence`, `validate_evidence_cid`, and `get_verification_stats` are never used
  --> src\verification_registry.rs:50:12
   |
15 | impl VerificationRegistry {
   | ------------------------- associated functions in this implementation
...
50 |     pub fn list_pending_verifications(
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
59 |     pub fn verification_exists(_env: &Env, _project_id: u64) -> bool {
   |            ^^^^^^^^^^^^^^^^^^^
...
63 |     pub fn get_verification_status(
   |            ^^^^^^^^^^^^^^^^^^^^^^^
...
70 |     pub fn update_verification_evidence(
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
79 |     pub fn validate_evidence_cid(evidence_cid: &String) -> Result<(), ContractError> {
   |            ^^^^^^^^^^^^^^^^^^^^^
...
86 |     pub fn get_verification_stats(_env: &Env) -> (u32, u32, u32) {
   |            ^^^^^^^^^^^^^^^^^^^^^^

warning: hiding a lifetime that's elided elsewhere is confusing
  --> src\test.rs:11:15
   |
11 | fn setup(env: &Env) -> (DongleContractClient, Address, Address) {
   |               ^^^^      ^^^^^^^^^^^^^^^^^^^^ the same lifetime is hidden here
   |               |
   |               the lifetime is elided here
   |
   = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
   = note: `#[warn(mismatched_lifetime_syntaxes)]` on by default
help: use `'_` for type paths
   |
11 | fn setup(env: &Env) -> (DongleContractClient<'_>, Address, Address) {
   |                                             ++++

warning: hiding a lifetime that's elided elsewhere is confusing
 --> src\registration_tests.rs:6:15
  |
6 | fn setup(env: &Env) -> (DongleContractClient, Address) {
  |               ^^^^      ^^^^^^^^^^^^^^^^^^^^ the same lifetime is hidden here
  |               |
  |               the lifetime is elided here
  |
  = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
  |
6 | fn setup(env: &Env) -> (DongleContractClient<'_>, Address) {
  |                                             ++++

warning: `dongle-contract` (lib test) generated 31 warnings (25 duplicates) (run `cargo fix --lib -p dongle-contract --tests` to apply 6 suggestions)
warning: `dongle-contract` (lib) generated 26 warnings (run `cargo fix --lib -p dongle-contract` to apply 8 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 13.18s
     Running unittests src\lib.rs (target\debug\deps\dongle_contract-a300b76b9d4a7117.exe)

running 19 tests
test rating_calculator::tests::test_add_rating_first_review ... ok
test rating_calculator::tests::test_add_rating_subsequent_review ... ok
test rating_calculator::tests::test_calculate_average_multiple_reviews ... ok
test rating_calculator::tests::test_calculate_average_zero_reviews ... ok
test rating_calculator::tests::test_calculate_average_single_review ... ok
test rating_calculator::tests::test_calculate_average_precision ... ok
test rating_calculator::tests::test_remove_rating_last_review ... ok
test rating_calculator::tests::test_remove_rating_multiple_reviews ... ok
test rating_calculator::tests::test_update_rating_decrease ... ok
test rating_calculator::tests::test_update_rating_increase ... ok
test rating_calculator::tests::test_update_rating_no_change ... ok
test test::test_get_project_invalid_id_zero ... ok
test test::test_get_project_none_for_nonexistent_id ... ok
test registration_tests::test_register_project_success ... ok
test test::test_register_project_success ... ok
test review_registry::test::test_add_review_event ... ok
test registration_tests::test_register_duplicate_project_fails ... ok
test registration_tests::test_register_different_projects_success ... ok
test test::test_list_projects ... FAILED

failures:

---- test::test_list_projects stdout ----

thread 'test::test_list_projects' (24480) panicked at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\host.rs:768:9:
HostError: Error(Contract, #3)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #3)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #3)], data:["contract call failed", register_project, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHK3M, "Project", "Description that is long enough to pass validation definitely more than two hundred characters... Description that is long enough to pass validation definitely more than two hundred characters...", "Category", Void, Void, Void]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #3)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, register_project], data:Error(Contract, #3)
   4: [Diagnostic Event] topics:[fn_call, Bytes(0000000000000000000000000000000000000000000000000000000000000001), register_project], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHK3M, "Project", "Description that is long enough to pass validation definitely more than two hundred characters... Description that is long enough to pass validation definitely more than two hundred characters...", "Category", Void, Void, Void]
   5: [Diagnostic Event] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, register_project], data:1
   6: [Diagnostic Event] topics:[fn_call, Bytes(0000000000000000000000000000000000000000000000000000000000000001), register_project], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHK3M, "Project", "Description that is long enough to pass validation definitely more than two hundred characters... Description that is long enough to pass validation definitely more than two hundred characters...", "Category", Void, Void, Void]

Backtrace (newest first):
   0: backtrace::backtrace::win64::trace
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\backtrace-0.3.76\src\backtrace\win64.rs:85
      backtrace::backtrace::trace_unsynchronized<backtrace::capture::impl$4::create::closure_env$0>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\backtrace-0.3.76\src\backtrace\mod.rs:66
   1: backtrace::backtrace::trace<backtrace::capture::impl$4::create::closure_env$0>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\backtrace-0.3.76\src\backtrace\mod.rs:53
   2: backtrace::capture::Backtrace::create
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\backtrace-0.3.76\src\capture.rs:294
   3: backtrace::capture::Backtrace::new_unresolved
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\backtrace-0.3.76\src\capture.rs:289
   4: soroban_env_host::host::error::impl$10::maybe_get_debug_info::closure$0
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\host\error.rs:293
   5: soroban_env_host::budget::Budget::with_shadow_mode<tuple$<>,soroban_env_host::host::error::impl$10::maybe_get_debug_info::closure_env$0>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\budget.rs:972
   6: soroban_env_host::host::Host::with_debug_mode<soroban_env_host::host::error::impl$10::maybe_get_debug_info::closure_env$0>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\host.rs:615
   7: soroban_env_host::host::Host::maybe_get_debug_info
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\host\error.rs:290
   8: soroban_env_host::host::error::impl$10::error::closure$0
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\host\error.rs:274
   9: soroban_env_host::budget::Budget::with_shadow_mode<tuple$<>,soroban_env_host::host::error::impl$10::error::closure_env$0>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\budget.rs:972
  10: soroban_env_host::host::Host::with_debug_mode<soroban_env_host::host::error::impl$10::error::closure_env$0>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\host.rs:615
  11: soroban_env_host::host::Host::error
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\host\error.rs:261
  12: soroban_env_host::host::impl$4::escalate_error_to_panic
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-env-host-21.2.1\src\host.rs:767
  13: soroban_sdk::env::internal::reject_err::closure$0<soroban_env_common::val::Val>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-sdk-21.7.7\src\env.rs:52
  14: enum2$<core::result::Result<soroban_env_common::val::Val,soroban_env_host::host::error::HostError> >::map_err<soroban_env_common::val::Val,soroban_env_host::host::error::HostError,enum2$<core::convert::Infallible>,soroban_sdk::env::internal::reject_err::cl
             at /rustc/254b59607d4417e9dffbc307138ae5c86280fe4c\library\core\src\result.rs:968
  15: soroban_sdk::env::internal::reject_err<soroban_env_common::val::Val>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-sdk-21.7.7\src\env.rs:52
  16: soroban_sdk::env::impl$20::call
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-sdk-21.7.7\src\env.rs:1667
  17: soroban_sdk::env::Env::invoke_contract<u64>
             at C:\Users\user\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\soroban-sdk-21.7.7\src\env.rs:379
  18: dongle_contract::DongleContractClient::register_project
             at src\lib.rs:31
  19: dongle_contract::test::test_list_projects
             at src\test.rs:437
  20: dongle_contract::test::test_list_projects::closure$0
             at src\test.rs:430
  21: core::ops::function::FnOnce::call_once<dongle_contract::test::test_list_projects::closure_env$0,tuple$<> >
             at /rustc/254b59607d4417e9dffbc307138ae5c86280fe4c\library\core\src\ops\function.rs:250


note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
Writing test snapshot file for test "test::test_list_projects" to "test_snapshots\\test\\test_list_projects.1.json".


failures:
    test::test_list_projects

test result: FAILED. 18 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.83s

error: test failed, to rerun pass `--lib`
